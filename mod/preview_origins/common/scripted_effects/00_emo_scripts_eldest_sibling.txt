# scope = Capital of Country
choose_random_planet_to_terraform_and_generate_same_species_primitives = {
	solar_system = {
		random_system_planet = {
			limit = {
				is_colony = no
				planet_size < 26
				NOT = {
					is_planet_class = pc_gas_giant
				}
				NOR = {
					is_planet_class = pc_a_star
					is_planet_class = pc_b_star
					is_planet_class = pc_f_star
					is_planet_class = pc_g_star
					is_planet_class = pc_k_star
					is_planet_class = pc_m_star
					is_planet_class = pc_t_star
					is_planet_class = pc_m_giant_star
					is_planet_class = pc_neutron_star
					is_planet_class = pc_black_hole
				}
				NOR = {
					is_planet_class = pc_asteroid
					is_planet_class = pc_ice_asteroid
					is_planet_class = pc_crystal_asteroid
					is_planet_class = pc_rare_crystal_asteroid
				}
				NOT = {
					has_orbital_station = yes
				}
			}
			terraform_planet_and_generate_same_species_primitives = yes
		}
	}
}

terraform_planet_and_generate_same_species_primitives = {
	root = {
		capital_scope = {
			switch = {
				trigger = is_planet_class
				##### VANILLA PLANET CLASSES
				pc_continental = {
					# prevprev = randomly chosen planet in system
					prevprev = {
						change_pc = pc_continental
						reroll_planet_and_generate_same_species_primitives = yes
					}
				}
				pc_ocean = {
					prevprev = {
						change_pc = pc_ocean
						reroll_planet_and_generate_same_species_primitives = yes
					}
				}
				pc_tropical = {
					prevprev = {
						change_pc = pc_tropical
						reroll_planet_and_generate_same_species_primitives = yes
					}
				}
				pc_alpine = {
					prevprev = {
						change_pc = pc_alpine
						reroll_planet_and_generate_same_species_primitives = yes
					}
				}
				pc_arctic = {
					prevprev = {
						change_pc = pc_arctic
						reroll_planet_and_generate_same_species_primitives = yes
					}
				}
				pc_desert = {
					prevprev = {
						change_pc = pc_desert
						reroll_planet_and_generate_same_species_primitives = yes
					}
				}
				pc_savannah = {
					prevprev = {
						change_pc = pc_savannah
						reroll_planet_and_generate_same_species_primitives = yes
					}
				}
				pc_tundra = {
					prevprev = {
						change_pc = pc_tundra
						reroll_planet_and_generate_same_species_primitives = yes
					}
				}
				pc_arid = {
					prevprev = {
						change_pc = pc_arid
						reroll_planet_and_generate_same_species_primitives = yes
					}
				}
			}
		}
	}
}

# scope = Non-Colonized Habitable Planet
reroll_planet_and_generate_same_species_primitives = {
	reroll_deposits = yes
	reroll_planet_modifiers = yes
	generate_same_species_late_primitives_on_planet = yes
}

# scope = Non-Colonized Habitable Planet
generate_same_species_late_primitives_on_planet = {
	optimize_memory
	#create_primitive_species = yes # using recreated event_target:my_country.species instead
	modify_species = {
		species = event_target:my_country.species
	}
	create_late_primitive_empire = yes
	setup_primitive_planet = yes
	#create_primitive_armies = yes ### Done via Pop job now
}
